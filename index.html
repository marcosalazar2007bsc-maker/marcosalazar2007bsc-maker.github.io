<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mis 15 A√±os Amy</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --pink1:#ff69b4;
  --pink2:#ff1493;
  --white:rgba(255,255,255,.95);
  --glass:rgba(255,255,255,.22);
  --shadow:0 12px 40px rgba(255,20,147,.22);
}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#ffb6d9,#ff9ecf,#ffc7ea);
  overflow:hidden;
  color:white;
}

/* =========================
   INTRO VIDEO FULLSCREEN
========================= */
.intro{
  position:fixed;
  inset:0;
  z-index:9999;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#000;
  opacity:1;
  transition:opacity .6s ease;
}
.intro.hidden{ opacity:0; pointer-events:none; }

.intro video{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Flash/Brillo */
.flash{
  position:fixed;
  inset:0;
  background:white;
  opacity:0;
  z-index:9998;
  pointer-events:none;
}
.flash.on{
  animation:flashBoom .75s ease forwards;
}
@keyframes flashBoom{
  0%{opacity:0;}
  25%{opacity:1;}
  60%{opacity:.4;}
  100%{opacity:0;}
}

/* =========================
   CONTENIDO PRINCIPAL
========================= */
#main{
  opacity:0;
  transform:scale(1.02);
  transition:opacity .8s ease, transform .8s ease;
}
#main.show{
  opacity:1;
  transform:scale(1);
}

/* AURA */
.bg-aura{
  position:fixed;
  inset:-20%;
  z-index:-6;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,255,255,.25), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(255,105,180,.25), transparent 45%),
    radial-gradient(circle at 55% 80%, rgba(255,20,147,.18), transparent 50%);
  filter: blur(10px);
  animation:aura 10s ease-in-out infinite alternate;
}
@keyframes aura{ from{transform:scale(1);} to{transform:scale(1.05);} }

/* ESTRELLAS */
canvas{
  position:fixed;
  inset:0;
  z-index:-5;
}

/* BOKEH */
.bokeh{
  position:fixed;
  inset:0;
  z-index:-4;
  pointer-events:none;
  background:
    radial-gradient(circle at 15% 40%, rgba(255,255,255,.22), transparent 30%),
    radial-gradient(circle at 65% 20%, rgba(255,255,255,.16), transparent 35%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,.14), transparent 35%),
    radial-gradient(circle at 30% 80%, rgba(255,255,255,.12), transparent 40%);
  filter: blur(1px);
  opacity:.9;
}

/* 15 FLOTANTES */
.floating15{
  position:fixed;
  font-weight:900;
  color:rgba(255,20,147,0.12);
  text-shadow:
    0 0 18px rgba(255,20,147,.22),
    0 0 42px rgba(255,20,147,.18);
  pointer-events:none;
  z-index:-3;
  will-change: transform, opacity;
}

/* CONTENEDOR */
.container{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
  gap:10px;
}

/* TITULOS */
.title{
  font-family:'Great Vibes',cursive;
  font-size:52px;
  color:var(--white);
  text-shadow:0 0 18px rgba(255,255,255,.6);
  animation:floatText 3.4s ease-in-out infinite;
}
.nombre{
  font-family:'Great Vibes',cursive;
  font-size:88px;
  color:var(--white);
  text-shadow:
    0 0 18px rgba(255,255,255,.55),
    0 0 30px rgba(255,105,180,.55),
    0 0 45px rgba(255,20,147,.35);
  animation:floatText 3.4s ease-in-out infinite;
  animation-delay:.2s;
}
@keyframes floatText{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-7px);}
}
.fecha{
  margin-top:6px;
  font-weight:600;
  letter-spacing:.6px;
  font-size:14px;
  color:rgba(255,255,255,.92);
  text-shadow:0 0 12px rgba(255,20,147,.35);
}

/* CONTADOR */
.contador{
  display:flex;
  gap:12px;
  margin:18px 0 10px;
  flex-wrap:wrap;
  justify-content:center;
}
.box{
  background:var(--glass);
  backdrop-filter:blur(10px);
  box-shadow: var(--shadow);
  padding:14px 12px;
  border-radius:16px;
  min-width:78px;
  border:1px solid rgba(255,255,255,.25);
}
.box span{
  display:block;
  font-size:22px;
  font-weight:800;
  color:white;
  text-shadow:0 0 10px rgba(255,20,147,.25);
}
.box small{opacity:.9;}

/* BOTONES */
.botones{
  display:flex;
  flex-direction:column;
  gap:12px;
  width:min(290px, 92vw);
  margin-top:8px;
}
button{
  padding:12px 14px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  font-weight:800;
  color:white;
  transition:transform .2s ease, box-shadow .2s ease, filter .2s ease;
  background:linear-gradient(90deg,var(--pink2),var(--pink1));
  box-shadow:0 12px 30px rgba(255,20,147,.22);
}
button:hover{
  transform:translateY(-2px) scale(1.03);
  filter:saturate(1.05);
}
button:active{transform:scale(.99);}

/* CON CARI√ëO */
.carinio{
  margin-top:14px;
  font-size:13px;
  opacity:.95;
  text-shadow:0 0 10px rgba(255,255,255,.45);
}
.carinio strong{font-weight:900;}

/* MODALES */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:flex;
  justify-content:center;
  align-items:center;
  visibility:hidden;
  opacity:0;
  transition:.25s;
  z-index:1000;
  padding:18px;
}
.modal.active{visibility:visible;opacity:1;}
.modal-content{
  width:min(380px, 92vw);
  background:rgba(255,255,255,.95);
  border-radius:22px;
  padding:22px;
  color:#d60f78;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  text-align:center;
  border:1px solid rgba(255,20,147,.18);
}
.modal-content h3{
  font-family:'Great Vibes',cursive;
  font-size:40px;
  margin-bottom:6px;
  color:#ff1493;
}
.modal-content p{
  color:#b40b63;
  line-height:1.35;
}
.input, textarea{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:14px;
  border:1px solid rgba(255,20,147,.25);
  outline:none;
  font-family:'Poppins';
  background:white;
}
textarea{min-height:90px; resize:none;}
.modal-actions{
  display:flex;
  gap:10px;
  margin-top:12px;
}
.modal-actions button{width:100%;}

/* M√öSICA */
.music-btn{
  position:fixed;
  bottom:16px;
  left:16px;
  z-index:1100;
  padding:10px 14px;
  border-radius:999px;
  background:linear-gradient(90deg,var(--pink2),var(--pink1));
  border:none;
  color:white;
  font-weight:900;
  box-shadow:0 12px 30px rgba(255,20,147,.22);
  cursor:pointer;
}

/* RESPONSIVE */
@media(max-width:520px){
  .nombre{font-size:62px;}
  .title{font-size:40px;}
  .box{min-width:72px;}
}
</style>
</head>

<body>

<!-- INTRO -->
<div class="intro" id="intro">
  <video id="introVideo" autoplay muted playsinline preload="auto">
    <source src="intro.mp4" type="video/mp4">
  </video>
</div>
<div class="flash" id="flash"></div>

<!-- MAIN -->
<div id="main">
  <div class="bg-aura"></div>
  <div class="bokeh"></div>
  <canvas id="stars"></canvas>

  <div class="container">
    <div class="title">Mis</div>
    <div class="nombre">15 A√±os Amy</div>
    <div class="fecha">S√ÅBADO 21 FEBRERO ‚Ä¢ 8PM</div>

    <div class="contador">
      <div class="box"><span id="dias">0</span><small>D√≠as</small></div>
      <div class="box"><span id="horas">0</span><small>Horas</small></div>
      <div class="box"><span id="minutos">0</span><small>Min</small></div>
      <div class="box"><span id="segundos">0</span><small>Seg</small></div>
    </div>

    <div class="botones">
      <button onclick="abrirConfirmar()">Confirmar Asistencia üíñ</button>
      <button onclick="abrirAvisos()">Avisos Importantes ‚ú®</button>
      <button onclick="verUbicacion()">Ver Ubicaci√≥n üìç</button>
    </div>

    <div class="carinio">Con cari√±o de: <strong id="carinioTxt">la familia üíï</strong></div>
  </div>

  <!-- MODAL CONFIRMAR -->
  <div class="modal" id="modalConfirmar">
    <div class="modal-content">
      <h3>¬°Qu√© emoci√≥n! üíñ</h3>
      <p>Confirma tu asistencia y d√©jale un mensajito lindo a Amy ‚ú®</p>

      <input class="input" type="text" id="nombreInput" placeholder="Nombre en la invitaci√≥n (persona o familia)">
      <textarea id="mensajeInput" placeholder="Escribe un mensaje bonito para la quincea√±era üíå"></textarea>

      <div class="modal-actions">
        <button onclick="enviarWhatsApp()">Enviar a WhatsApp</button>
        <button onclick="cerrarModal('modalConfirmar')">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- MODAL AVISOS -->
  <div class="modal" id="modalAvisos">
    <div class="modal-content">
      <h3>Informaci√≥n ‚ú®</h3>
      <p style="margin-top:8px;">
        üìç <strong>Recepci√≥n</strong><br>
        Sal√≥n de Eventos Rivadell<br>
        G√≥mez Rend√≥n entre Tulc√°n y Carchi
      </p>
      <p style="margin-top:10px;">üëó <strong>Traje:</strong> Formal</p>
      <p style="margin-top:10px;">‚è∞ Agradeceremos su puntualidad el d√≠a del evento</p>

      <div class="modal-actions">
        <button onclick="verUbicacion()">Abrir en Maps üìç</button>
        <button onclick="cerrarModal('modalAvisos')">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- MODAL GRACIAS -->
  <div class="modal" id="modalGracias">
    <div class="modal-content">
      <h3>¬°Gracias! üíï</h3>
      <p>Tu confirmaci√≥n significa much√≠simo.  
      ¬°Nos vemos en una noche m√°gica llena de alegr√≠a! ‚ú®üéâ</p>

      <div class="modal-actions">
        <button onclick="cerrarModal('modalGracias')">Listo üíñ</button>
      </div>
    </div>
  </div>

  <!-- MUSICA -->
  <audio id="musica" autoplay loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>
  <button class="music-btn" onclick="toggleMusic()">üéµ M√∫sica</button>
</div>

<script>
/* =========================
   INTRO VIDEO CONTROL
========================= */
const intro = document.getElementById("intro");
const introVideo = document.getElementById("introVideo");
const flash = document.getElementById("flash");
const main = document.getElementById("main");

/* Intentar autoplay del video */
function playIntro(){
  introVideo.play().catch(()=>{});
}
window.addEventListener("load", playIntro);

/* Si el navegador bloquea autoplay, primer click lo inicia */
document.addEventListener("click", ()=> {
  playIntro();
}, { once:true });

/* Al terminar el video: flash + mostrar main */
function finishIntro(){
  flash.classList.add("on");
  setTimeout(()=>{
    intro.classList.add("hidden");
    main.classList.add("show");
    // arrancar m√∫sica y animaciones ya con main visible
    tryPlayMusic();
    iniciar15();
  }, 180);
}
introVideo.addEventListener("ended", finishIntro);

/* Fallback: si el video no carga o se queda, forzar a los 12s */
setTimeout(()=>{
  if(!main.classList.contains("show")){
    finishIntro();
  }
}, 12000);

/* =========================
   UTILIDADES
========================= */
const rnd = (min,max)=> Math.random()*(max-min)+min;

/* =========================
   15 FLOTANTES: POCOS + NATURALES
========================= */
function crear15(){
  const el = document.createElement("div");
  el.className = "floating15";
  el.textContent = "15";

  const size = rnd(74, 145);
  const left = rnd(-5, 105);
  const baseOpacity = rnd(0.22, 0.48);
  const blur = rnd(0.0, 1.1);

  el.style.fontSize = size + "px";
  el.style.left = left + "vw";
  el.style.top = "112vh";
  el.style.opacity = baseOpacity.toFixed(2);
  el.style.filter = `blur(${blur.toFixed(2)}px)`;

  const rot0 = rnd(-10, 10);
  const drift = rnd(-7, 7);
  const duration = rnd(14000, 26000);
  const start = performance.now();

  document.body.appendChild(el);

  function step(now){
    const p = Math.min(1, (now - start)/duration);

    const yVh = 112 - p*160;
    const xVw = drift * Math.sin(p*Math.PI*2);
    const scale = 0.92 + 0.10*Math.sin(p*Math.PI);

    el.style.transform = `translate(${xVw}vw, -${(112 - yVh)}vh) rotate(${rot0 + p*12}deg) scale(${scale})`;
    el.style.opacity = (baseOpacity * (1 - p)).toFixed(2);

    if(p < 1) requestAnimationFrame(step);
    else el.remove();
  }
  requestAnimationFrame(step);
}

function iniciar15(){
  // arranque suave
  for(let i=0;i<4;i++){
    setTimeout(crear15, i*260);
  }
  programarSiguiente15();
}
function programarSiguiente15(){
  const next = rnd(2200, 4200);
  setTimeout(()=>{
    crear15();
    if(Math.random() < 0.15){
      setTimeout(crear15, rnd(250, 800));
    }
    programarSiguiente15();
  }, next);
}

/* =========================
   M√öSICA AUTO
========================= */
const musica = document.getElementById("musica");
function tryPlayMusic(){ musica.play().catch(()=>{}); }
function toggleMusic(){
  if(musica.paused) musica.play();
  else musica.pause();
}

/* Cuando el usuario toque/click -> permitir autoplay */
document.addEventListener("click", ()=> tryPlayMusic(), { once:true });

/* =========================
   CONTADOR
========================= */
const evento = new Date("February 21, 2026 20:00:00").getTime();
setInterval(()=>{
  const ahora = new Date().getTime();
  const d = evento - ahora;

  document.getElementById("dias").textContent = Math.max(0, Math.floor(d/(1000*60*60*24)));
  document.getElementById("horas").textContent = Math.max(0, Math.floor((d%(1000*60*60*24))/(1000*60*60)));
  document.getElementById("minutos").textContent = Math.max(0, Math.floor((d%(1000*60*60))/(1000*60)));
  document.getElementById("segundos").textContent = Math.max(0, Math.floor((d%(1000*60))/1000));
},1000);

/* =========================
   ESTRELLAS
========================= */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

let stars=[];
for(let i=0;i<120;i++){
  stars.push({ x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:rnd(0.7,2.2) });
}
let t=0;
function animateStars(){
  t+=0.01;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    const a = 0.55 + 0.45*Math.sin(t + s.x*0.01);
    ctx.fillStyle = `rgba(255,255,255,${a})`;
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(animateStars);
}
animateStars();

/* =========================
   MODALES
========================= */
function abrirConfirmar(){ document.getElementById("modalConfirmar").classList.add("active"); }
function abrirAvisos(){ document.getElementById("modalAvisos").classList.add("active"); }
function cerrarModal(id){ document.getElementById(id).classList.remove("active"); }

/* =========================
   UBICACI√ìN
========================= */
function verUbicacion(){
  const direccion = "Sal√≥n de Eventos Rivadell, G√≥mez Rend√≥n entre Tulc√°n y Carchi";
  const url = "https://www.google.com/maps/search/?api=1&query=" + encodeURIComponent(direccion);
  window.open(url, "_blank");
}

/* =========================
   WHATSAPP
========================= */
function enviarWhatsApp(){
  const nombre = document.getElementById("nombreInput").value.trim();
  const msg = document.getElementById("mensajeInput").value.trim();

  if(nombre===""){
    alert("Escribe el nombre que aparece en la invitaci√≥n üíñ");
    return;
  }

  document.getElementById("carinioTxt").textContent = nombre;

  const texto =
    `Hola Amy üíñ‚ú®%0A` +
    `¬°Con much√≠sima alegr√≠a confirmo mi asistencia a tus 15 a√±os! üëëüéâ%0A%0A` +
    `ü©∑ De parte de: ${encodeURIComponent(nombre)}%0A` +
    `üíå Mensajito: ${encodeURIComponent(msg || "¬°Que tengas una noche hermosa e inolvidable! üå∏‚ú®üíñ")}%0A%0A` +
    `Nos vemos para celebrar contigo ü•≥üå∑`;

  window.open(`https://wa.me/593989559788?text=${texto}`,"_blank");

  cerrarModal("modalConfirmar");
  setTimeout(()=> document.getElementById("modalGracias").classList.add("active"), 900);
}
</script>
</body>
</html>
